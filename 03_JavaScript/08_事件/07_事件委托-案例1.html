<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<style>
			.active {
				color: red;
				font-size: 20px;
			}
		</style>
	</head>
	<body>
		<ul>
			<li>1</li>
			<li>2</li>
			<li>3</li>
			<li>4</li>
			<li>5</li>
			<li>6</li>
			<li>7</li>
			<li>8</li>
			<li>9</li>
			<li>10</li>
		</ul>

		<script>
			// 每一个li都监听自己的点击,并且都有自己的函数(创建了10个函数)
			// var liEls = document.querySelectorAll('li');
			// for (var liEl of liEls) {
			// 	// 监听点击
			// 	liEl.onclick = function () {
			// 		this.classList.add('active');
			// 	};
			// }

			// 统一在ul父元素中监听(委托/代理模式)(性能高)
			// var ulEl = document.querySelector('ul');
			// ulEl.onclick = function (event) {
			// 	// console.log('点击了li:', event.target);
			// 	var activeLiEl = ulEl.querySelector('.active'); //获取有active属性的元素
			// 	activeLiEl && activeLiEl.classList.remove('active'); //active有值的情况再执行移除

			// 	event.target.classList.add('active');
			// };

			// 变量记录(好写)
			var activeNow = null;
			ulEl.onclick = function (event) {
				//存在就移除
				if (activeNow) {
					activeNow.classList.remove('active');
				}
				event.target.classList.add('active');
				activeNow = event.target;
			};
		</script>
	</body>
</html>
